import{r,j as t,B as f,a as m}from"./index-d4a6f146.js";import{b as p,C as d,c as h,d as j}from"./index-00320eff.js";import{m as y,T as l}from"./motion-39debe21.js";import"./Modal-5ca26b2e.js";function C({start:e,duration:i}){const[a,o]=r.useState(i),n=r.useRef(null);return r.useEffect(()=>(e===!0&&(n.current=setInterval(()=>{o(s=>s===1?0:s-1)},1e3)),()=>{n.current&&clearInterval(n.current)}),[e]),r.useEffect(()=>{a===0&&n.current&&clearInterval(n.current)},[a]),{time:a,restart:()=>{o(i)}}}function g(e){const i=Math.floor(e/60);return e=e%60,`${i}:${e<10?"0":""}${e}`}function E({onNext:e,onRestart:i}){const a=p(),[o,n]=r.useState(!1),[u,s]=r.useState(!1),{time:c}=C({start:o,duration:a||0});return r.useEffect(()=>{c===0&&e()},[e,c]),t.jsxs(t.Fragment,{children:[t.jsx(d,{open:u,content:"آیا مطمئنید که میخواهید از این بازی خارج شوید؟",onClose:()=>s(!1),onConfirm:()=>{i(),s(!1)}}),t.jsxs(y.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[t.jsx(l,{variant:"h4",textAlign:"center",children:"مسابقه"}),t.jsxs(f,{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:8,children:[t.jsx(l,{variant:"h4",textAlign:"center",children:"زمان"}),t.jsx(l,{variant:"h4",textAlign:"center",children:g(c)})]}),t.jsxs(f,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",children:[t.jsx(m,{variant:"contained",endIcon:t.jsx(h,{}),onClick:()=>n(x=>!x),children:o?"توقف":"شروع"}),t.jsx(m,{variant:"contained",endIcon:t.jsx(j,{}),onClick:()=>s(!0),children:"شروع مجدد"})]})]})]})}export{E as default};
